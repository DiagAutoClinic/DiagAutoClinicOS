# BMW E90 320d Configuration File
# VIN: WBAVC36020NC55225
# Odometer: 255319km

[VEHICLE]
make = BMW
model = 3 Series (E90)
year = 2005
vin = WBAVC36020NC55225
odometer_km = 255319
engine = 2.0L Diesel (M47)
transmission = Manual/Automatic
fuel_type = Diesel

[DEVICES]
# Primary Device: GoDiag GT100/GD101 (J2534)
primary_device = GoDiag GT100 PLUS GPT
primary_device_alt = GoDiag GD101
primary_type = J2534_PassThru
primary_protocol = ISO14229_UDS
primary_port = COM3
primary_baudrate = 115200

# Secondary Device: OBDLink MX+ (CAN Sniffer)
secondary_device = OBDLink MX+
secondary_type = CAN_Sniffer
secondary_protocol = ISO15765_29BIT
secondary_connection = Bluetooth_RFCOMM
secondary_channel = 1

[PROTOCOL]
# BMW Protocol Settings (KWP2000 over CAN / UDS)
base_protocol = ISO15765_29BIT
address_format = Extended_29bit
can_baudrate = 500000
ecu_address = 0x01
functional_address = 0x6F1
response_addresses = 0x6F9,0x6D9,0x6B9,0x6A9,0x6E9

[ARBITRATION_IDS]
# BMW E90 ECU Arbitration IDs (29-bit extended)
engine_primary = 6F1
engine_secondary = 6F9
transmission_primary = 6D1
transmission_secondary = 6D9
brakes_abs_primary = 6B1
brakes_abs_secondary = 6B9
safety_airbag_primary = 6A1
safety_airbag_secondary = 6A9
instrument_cluster_primary = 6E1
instrument_cluster_secondary = 6E9
body_bcm_primary = 6C1
body_bcm_secondary = 6C9
climate_hvac_primary = 6H1
climate_hvac_secondary = 6H9

[DIAGNOSTIC_COMMANDS]
# UDS Commands for BMW
vin_request = 22F190
ecu_identification = 221A80
dtc_scan = 1901FF
dtc_clear = 14FFFF
live_data_pids = 2201
tester_present = 3E00

[CAN_FILTERS]
# CAN Message Filters for BMW E90
enable_all_bmw_ids = true
engine_msgs = 6F1,6F9
transmission_msgs = 6D1,6D9
brake_msgs = 6B1,6B9
airbag_msgs = 6A1,6A9
instrument_msgs = 6E1,6E9
body_msgs = 6C1,6C9
climate_msgs = 6H1,6H9

[TESTING]
# Testing Configuration
mock_mode_default = true
test_duration_seconds = 30
can_analysis_duration = 10
buffer_size = 1000
timeout_seconds = 5
retry_attempts = 3

[OUTPUT]
# Output File Configuration
report_directory = scripts/
can_capture_directory = scripts/
timestamp_format = %Y%m%d_%H%M%S
report_filename = bmw_e90_test_report
capture_filename = bmw_e90_can_capture

[SAFETY]
# Safety Configuration
require_engine_off = true
require_parking_brake = true
require_ventilation = true
emergency_contacts_required = true
isolation_required = true

[PERFORMANCE]
# Performance Tuning
message_polling_interval_ms = 10
can_monitoring_threads = 2
buffer_flush_interval_s = 5
connection_timeout_s = 10
diagnostic_timeout_s = 30

[LOGGING]
# Logging Configuration
log_level = INFO
log_file = bmw_e90_testing.log
log_can_messages = true
log_diagnostic_requests = true
log_performance_metrics = true