{
  "version": "v0.0.3",
  "generated": "2025-12-29",
  "title": "DACOS VIN Decoding Rules – Combined WMI/Plant + VDS + ZA-local Profiles (Expanded)",
  "description": "Added Volvo, Jaguar Land Rover, Chevrolet, Suzuki, and Peugeot/Citroën/Renault group. Focus on realistic VDS patterns (position 8 engine hints), ZA market weakness, and ECU deferral.",
   "philosophy":{
      "core_principle":"VIN is a compressed foreign key into multiple uncontrolled databases – NOT a self-describing schema.",
      "repeated_question":"Do I know this, or am I inferring it?",
      "engine_truth":"There is no mathematical way to derive engine capacity from a VIN. Only manufacturer symbol tables, market-specific mappings, historical production patterns.",
      "verification_rule":"engine.displacement.status = 'verified' only after at least two independent confirmations (ECU + market/commercial)",
      "never_return_naked_values":true,
      "return_epistemology":true,
      "epistemology_first":"Never return naked values — always return source, confidence, state (verified/confirmed/inferred/conflicted/unknown), and audit trail."
   },
   "architecture_layers":{
      "layer_0":{
         "name":"Sanity & Physics",
         "description":"Binary truth. Length=17, charset (no I,O,Q), Mod-11 check digit (ISO 3779). Fails → stop."
      },
      "layer_1":{
         "name":"Deterministic ISO Decode",
         "description":"WMI (1-3), Model year (10), Plant (11), Serial (12-17)"
      },
      "layer_2":{
         "name":"OEM Grammar Decoder (VDS)",
         "description":"Digits 4-8: manufacturer-defined grammar – declarative rules with confidence"
      },
      "layer_3":{
         "name":"Market Context Resolver",
         "description":"Critical for ZA local variations. Inputs: VIN + market hint + WMI + plant"
      }
   },
   "common":{
      "pattern_types":[
         "exact",
         "prefix",
         "one_of",
         "regex",
         "contains",
         "starts_with",
         "any"
      ],
      "default_engine_priority":[
         "ECU",
         "PR_CODES",
         "BUILD_SHEET",
         "COMMERCIAL_DB",
         "VIN_VDS"
      ]
   },
   "wmi_plant_mappings":{
      "BMW":{
         "wmi":{
            "WBA":{
               "manufacturer":"BMW AG",
               "country":"Germany"
            },
            "WBS":{
               "manufacturer":"BMW M",
               "country":"Germany"
            },
            "5UX":{
               "manufacturer":"BMW USA",
               "country":"USA",
               "plant_default":"L"
            },
            "WBY":{
               "manufacturer":"BMW i",
               "country":"Germany"
            }
         },
         "plants":{
            "A":"Munich, Germany",
            "B":"Dingolfing, Germany",
            "L":"Spartanburg, USA",
            "N":"Rosslyn, South Africa"
         }
      },
      "VAG":{
         "wmi":{
            "WVW":{
               "manufacturer":"Volkswagen",
               "country":"Germany"
            },
            "WAU":{
               "manufacturer":"Audi",
               "country":"Germany"
            },
            "TMB":{
               "manufacturer":"Škoda",
               "country":"Czech Republic"
            },
            "VSS":{
               "manufacturer":"SEAT",
               "country":"Spain"
            }
         },
         "plants":{
            "W":"Wolfsburg, Germany",
            "E":"Emden, Germany",
            "7":"Kariega, South Africa"
         }
      },
      "Mercedes-Benz":{
         "wmi":{
            "W1K":{
               "manufacturer":"Mercedes-Benz",
               "country":"Germany"
            },
            "WDB":{
               "manufacturer":"Mercedes-Benz",
               "country":"Germany/South Africa"
            },
            "4JG":{
               "manufacturer":"Mercedes-Benz USA",
               "country":"USA"
            }
         },
         "plants":{
            "F":"Bremen, Germany",
            "R":"East London, South Africa",
            "J":"Tuscaloosa, USA"
         }
      },
      "Toyota":{
         "wmi":{
            "4T1":{
               "manufacturer":"Toyota",
               "country":"USA"
            },
            "5TD":{
               "manufacturer":"Toyota",
               "country":"USA"
            },
            "JTD":{
               "manufacturer":"Toyota",
               "country":"Japan"
            }
         },
         "plants":{
            "U":"Georgetown, Kentucky, USA",
            "0":"Tahara, Japan"
         }
      },
      "Honda":{
         "wmi":{
            "1HG":{
               "manufacturer":"Honda",
               "country":"USA"
            },
            "JHM":{
               "manufacturer":"Honda",
               "country":"Japan"
            }
         },
         "plants":{
            "A":"Marysville, Ohio, USA",
            "H":"Suzuka, Japan"
         }
      },
    "Volvo": {
      "wmi": {
        "YV1": {"manufacturer": "Volvo Cars", "country": "Sweden"},
        "YV4": {"manufacturer": "Volvo Cars", "country": "Sweden"},
        "4V4": {"manufacturer": "Volvo", "country": "USA"}
      },
      "plants": {
        "T": "Torslanda, Sweden",
        "G": "Ghent, Belgium",
        "C": "Chengdu, China (some exports)"
      }
    },
    "Jaguar Land Rover": {
      "wmi": {
        "SAJ": {"manufacturer": "Jaguar", "country": "United Kingdom"},
        "SAL": {"manufacturer": "Land Rover", "country": "United Kingdom"},
        "SAD": {"manufacturer": "Jaguar Land Rover", "country": "United Kingdom"}
      },
      "plants": {
        "A": "Solihull, UK (most JLR)",
        "B": "Halewood, UK",
        "G": "Castle Bromwich, UK"
      }
    },
    "Chevrolet": {
      "wmi": {
        "1G1": {"manufacturer": "Chevrolet", "country": "USA"},
        "1GC": {"manufacturer": "Chevrolet Truck", "country": "USA"},
        "3G1": {"manufacturer": "Chevrolet", "country": "Mexico"}
      },
      "plants": {
        "A": "Arlington, Texas, USA",
        "F": "Fairfax, Kansas, USA",
        "W": "Wentzville, Missouri, USA"
      }
    },
    "Suzuki": {
      "wmi": {
        "JS2": {"manufacturer": "Suzuki", "country": "Japan"},
        "JS3": {"manufacturer": "Suzuki", "country": "Japan"},
        "MHR": {"manufacturer": "Suzuki", "country": "Malaysia"}
      },
      "plants": {
        "H": "Hamamatsu, Japan",
        "M": "Manda, Japan"
      }
    },
    "Peugeot Citroën Renault": {
      "wmi": {
        "VF3": {"manufacturer": "Peugeot", "country": "France"},
        "VF7": {"manufacturer": "Citroën", "country": "France"},
        "VF1": {"manufacturer": "Renault", "country": "France"}
      },
      "plants": {
        "F": "Sochaux, France (Peugeot)",
        "R": "Rennes, France (Citroën)",
        "S": "Sandouville, France (Renault)"
      }
    }
  },
   "oem_profiles":{
      "BMW":{
         "markets":[
            "EU",
            "ZA",
            "US"
         ],
         "vds_strategies":{
            "US":"strong",
            "EU":"medium",
            "ZA":"medium-weak"
         },
         "vds_rules":[
            {
               "id":"b58_early_c",
               "markets":[
                  "US",
                  "EU",
                  "ZA"
               ],
               "position":[
                  8
               ],
               "pattern":{
                  "type":"exact",
                  "value":"C"
               },
               "meaning":{
                  "engine_family":"B58",
                  "displacement_cc":2998
               },
               "confidence":0.92
            },
            {
               "id":"b58_g_m_sport_d",
               "markets":[
                  "US",
                  "EU"
               ],
               "position":[
                  8
               ],
               "pattern":{
                  "type":"exact",
                  "value":"D"
               },
               "meaning":{
                  "engine_family":"B58",
                  "displacement_cc":2998
               },
               "confidence":0.88
            },
            {
               "id":"s58_main_s",
               "markets":[
                  "US",
                  "EU",
                  "ZA"
               ],
               "position":[
                  8
               ],
               "pattern":{
                  "type":"exact",
                  "value":"S"
               },
               "meaning":{
                  "engine_family":"S58",
                  "displacement_cc":2993
               },
               "confidence":0.95
            }
         ],
         "engine_priority":[
            "ECU",
            "BUILD_SHEET",
            "COMMERCIAL_DB",
            "VIN_VDS"
         ]
      },
      "AAU":{
         "name":"BMW South Africa (Rosslyn)",
         "markets":[
            "ZA",
            "export"
         ],
         "vds_rules":[
            {
               "rule_id":"bmw_x3_rosslyn_g01",
               "description":"BMW X3 G01 - Rosslyn assembly (ZA market)",
               "markets":[
                  "ZA"
               ],
               "position":[
                  4,
                  5,
                  6,
                  7,
                  8
               ],
               "pattern":{
                  "type":"starts_with",
                  "value":"59"
               },
               "meaning":{
                  "model":"X3 G01",
                  "plant":"Rosslyn",
                  "engine_family":"B48/B58 variants",
                  "assembly":"South Africa"
               },
               "confidence":0.96,
               "notes":"Prefer when WMI=AAU and market=ZA; plant code often N"
            }
         ]
      },
      "Volvo": {
         "markets": ["EU", "ZA", "US"],
         "vds_strategies": {
           "US": "medium-strong",
           "EU": "weak-medium",
           "ZA": "weak-medium"
         },
         "vds_rules": [
           {
             "id": "volvo_drive_e_2_0_turbo_t",
             "markets": ["US", "EU", "ZA"],
             "position": [8],
             "pattern": { "type": "exact", "value": "T" },
             "meaning": {
               "engine_family": "Drive-E",
               "displacement_cc": 1969,
               "fuel": "Petrol",
               "aspiration": "Turbo"
             },
             "confidence": 0.85,
             "notes": "Common in XC60, S60 T5"
           },
           {
             "id": "volvo_diesel_d4_d5_d_e",
             "markets": ["EU", "ZA"],
             "position": [5],
             "pattern": { "type": "one_of", "values": ["D", "E"] },
             "meaning": {
               "engine_family": "Drive-E Diesel",
               "displacement_cc_range": "1900-2400"
             },
             "confidence": 0.75,
             "force_verification": true
           }
         ],
         "engine_priority": ["ECU", "BUILD_SHEET", "COMMERCIAL_DB", "VIN_VDS"]
       },

       "Jaguar Land Rover": {
         "markets": ["EU", "ZA", "US"],
         "vds_strategies": {
           "US": "medium-strong",
           "EU": "weak-medium",
           "ZA": "weak-medium"
         },
         "vds_rules": [
           {
             "id": "jlr_ingenium_2_0_diesel_d",
             "markets": ["EU", "ZA"],
             "position": [8],
             "pattern": { "type": "exact", "value": "D" },
             "meaning": {
               "engine_family": "Ingenium",
               "displacement_cc": 1999,
               "fuel": "Diesel"
             },
             "confidence": 0.80,
             "notes": "Common in Discovery Sport, Range Rover Evoque"
           },
           {
             "id": "jlr_5_0_v8_supercharged_s",
             "markets": ["US"],
             "position": [8],
             "pattern": { "type": "exact", "value": "S" },
             "meaning": {
               "engine_family": "AJ133",
               "displacement_cc": 5000,
               "aspiration": "Supercharged"
             },
             "confidence": 0.85
           }
         ],
         "engine_priority": ["ECU", "BUILD_SHEET", "COMMERCIAL_DB", "VIN_VDS"]
       },

       "Chevrolet": {
         "markets": ["US", "ZA", "EU"],
         "vds_strategies": {
           "US": "strong",
           "ZA": "weak-medium",
           "EU": "weak-medium"
         },
         "vds_rules": [
           {
             "id": "chevy_l96_6_0_v8_g",
             "markets": ["US"],
             "position": [8],
             "pattern": { "type": "exact", "value": "G" },
             "meaning": {
               "engine_family": "L96",
               "displacement_cc": 5967,
               "fuel": "Petrol"
             },
             "confidence": 0.90,
             "notes": "Common in Silverado, Suburban"
           },
           {
             "id": "chevy_ls3_6_2_v8_w",
             "markets": ["US"],
             "position": [8],
             "pattern": { "type": "exact", "value": "W" },
             "meaning": {
               "engine_family": "LS3",
               "displacement_cc": 6162,
               "fuel": "Petrol"
             },
             "confidence": 0.92
           }
         ],
         "engine_priority": ["ECU", "BUILD_SHEET", "COMMERCIAL_DB", "VIN_VDS"]
       },

       "Suzuki": {
         "markets": ["JP", "EU", "ZA"],
         "vds_strategies": {
           "JP": "weak",
           "EU": "weak-medium",
           "ZA": "weak-medium"
         },
         "vds_rules": [
           {
             "id": "suzuki_k14b_1_4_l",
             "markets": ["EU", "ZA"],
             "position": [8],
             "pattern": { "type": "exact", "value": "L" },
             "meaning": {
               "engine_family": "K14B",
               "displacement_cc": 1373,
               "fuel": "Petrol"
             },
             "confidence": 0.80,
             "notes": "Common in Swift, Vitara"
           }
         ],
         "engine_priority": ["ECU", "BUILD_SHEET", "COMMERCIAL_DB", "VIN_VDS"]
       },

       "Peugeot Citroën Renault": {
         "markets": ["EU", "ZA"],
         "vds_strategies": {
           "EU": "weak-medium",
           "ZA": "weak-medium"
         },
         "vds_rules": [
           {
             "id": "psa_1_6_hdi_diesel_h",
             "markets": ["EU", "ZA"],
             "position": [8],
             "pattern": { "type": "exact", "value": "H" },
             "meaning": {
               "engine_family": "DV6",
               "displacement_cc": 1560,
               "fuel": "Diesel"
             },
             "confidence": 0.75,
             "force_verification": true
           },
           {
             "id": "renault_1_5_dci_d",
             "markets": ["EU", "ZA"],
             "position": [8],
             "pattern": { "type": "exact", "value": "D" },
             "meaning": {
               "engine_family": "K9K",
               "displacement_cc": 1461,
               "fuel": "Diesel"
             },
             "confidence": 0.80
           }
         ],
         "engine_priority": ["ECU", "BUILD_SHEET", "COMMERCIAL_DB", "VIN_VDS"]
       }
     },
      "VAG":{
         "markets":[
            "EU",
            "ZA",
            "US"
         ],
         "vds_strategies":{
            "EU":"weak",
            "ZA":"weak",
            "US":"strong"
         },
         "vds_rules":[
            {
               "id":"platform_pq35",
               "markets":[
                  "EU",
                  "ZA"
               ],
               "position":[
                  4,
                  5
               ],
               "pattern":{
                  "type":"exact",
                  "value":"1K"
               },
               "meaning":{
                  "platform":"PQ35"
               },
               "confidence":0.85
            },
            {
               "id":"filler_zzz_eu",
               "markets":[
                  "EU",
                  "ZA"
               ],
               "pattern":{
                  "type":"regex",
                  "value":"^ZZZ"
               },
               "meaning":{
                  "note":"Filler - defer to external"
               },
               "confidence":0.0,
               "force_defer":true
            },
            {
               "id":"vw_export_filler_zzz",
               "markets":[
                  "EU",
                  "ZA"
               ],
               "position":[
                  4,
                  5,
                  6
               ],
               "pattern":{
                  "type":"exact",
                  "value":"ZZZ"
               },
               "meaning":{
                  "spec":"Export market (non-US)",
                  "defer_to_external":true
               },
               "confidence":0.10,
               "notes":"Common in EU/ZA; no detailed descriptors"
            },
            {
               "id":"vw_model_golf5_6_1k",
               "markets":[
                  "EU",
                  "ZA",
                  "US"
               ],
               "position":[
                  7,
                  8
               ],
               "pattern":{
                  "type":"exact",
                  "value":"1K"
               },
               "meaning":{
                  "model":"Golf/Jetta 5/6",
                  "platform":"PQ35"
               },
               "confidence":0.85
            },
            {
               "id":"vw_model_tiguan_5n",
               "markets":[
                  "EU",
                  "ZA",
                  "US"
               ],
               "position":[
                  7,
                  8
               ],
               "pattern":{
                  "type":"exact",
                  "value":"5N"
               },
               "meaning":{
                  "model":"Tiguan 1/2/Allspace",
                  "platform":"PQ35/MQB"
               },
               "confidence":0.85
            },
            {
               "id":"vw_model_touran_1t",
               "markets":[
                  "EU",
                  "ZA"
               ],
               "position":[
                  7,
                  8
               ],
               "pattern":{
                  "type":"exact",
                  "value":"1T"
               },
               "meaning":{
                  "model":"Touran",
                  "platform":"PQ35"
               },
               "confidence":0.85
            },
            {
               "id":"vw_model_polo5_6r",
               "markets":[
                  "EU",
                  "ZA"
               ],
               "position":[
                  7,
                  8
               ],
               "pattern":{
                  "type":"exact",
                  "value":"6R"
               },
               "meaning":{
                  "model":"Polo 5",
                  "platform":"PQ25"
               },
               "confidence":0.85
            },
            {
               "id":"vw_model_passat6_7_8_3c",
               "markets":[
                  "EU",
                  "ZA",
                  "US"
               ],
               "position":[
                  7,
                  8
               ],
               "pattern":{
                  "type":"exact",
                  "value":"3C"
               },
               "meaning":{
                  "model":"Passat 6/7/8/CC",
                  "platform":"PQ46"
               },
               "confidence":0.85
            },
            {
               "id":"vw_model_touareg1_7l",
               "markets":[
                  "EU",
                  "ZA",
                  "US"
               ],
               "position":[
                  7,
                  8
               ],
               "pattern":{
                  "type":"exact",
                  "value":"7L"
               },
               "meaning":{
                  "model":"Touareg 1",
                  "platform":"PL71"
               },
               "confidence":0.85
            },
            {
               "id":"vw_model_golf7_au",
               "markets":[
                  "EU",
                  "ZA",
                  "US"
               ],
               "position":[
                  7,
                  8
               ],
               "pattern":{
                  "type":"exact",
                  "value":"AU"
               },
               "meaning":{
                  "model":"Golf 7",
                  "platform":"MQB"
               },
               "confidence":0.85
            },
            {
               "id":"vw_model_golf8_cd",
               "markets":[
                  "EU",
                  "ZA",
                  "US"
               ],
               "position":[
                  7,
                  8
               ],
               "pattern":{
                  "type":"exact",
                  "value":"CD"
               },
               "meaning":{
                  "model":"Golf 8",
                  "platform":"MQB Evo"
               },
               "confidence":0.85
            },
            {
               "id":"vw_engine_gas_low_a",
               "markets":[
                  "US"
               ],
               "position":[
                  5
               ],
               "pattern":{
                  "type":"exact",
                  "value":"A"
               },
               "meaning":{
                  "engine_type":"Gas, lowest output"
               },
               "confidence":0.70,
               "notes":"US strong strategy; output hierarchy"
            },
            {
               "id":"vw_engine_diesel_1.5_1.6_g",
               "markets":[
                  "US",
                  "EU",
                  "ZA"
               ],
               "position":[
                  5
               ],
               "pattern":{
                  "type":"exact",
                  "value":"G"
               },
               "meaning":{
                  "engine_family":"Diesel",
                  "displacement_cc_range":"1500-1600"
               },
               "confidence":0.75,
               "notes":"Lowest output diesel"
            },
            {
               "id":"vw_engine_td_tdi_1.6_1.9_f",
               "markets":[
                  "US",
                  "EU",
                  "ZA"
               ],
               "position":[
                  5
               ],
               "pattern":{
                  "type":"exact",
                  "value":"F"
               },
               "meaning":{
                  "engine_family":"TD/TDI",
                  "displacement_cc_range":"1600-1900"
               },
               "confidence":0.80,
               "notes":"2nd lowest output diesel"
            },
            {
               "id":"vw_engine_vr6_d",
               "markets":[
                  "US"
               ],
               "position":[
                  5
               ],
               "pattern":{
                  "type":"exact",
                  "value":"D"
               },
               "meaning":{
                  "engine_family":"VR6"
               },
               "confidence":0.80
            },
            {
               "id":"vw_body_2door_basic_a",
               "markets":[
                  "US"
               ],
               "position":[
                  4
               ],
               "pattern":{
                  "type":"exact",
                  "value":"A"
               },
               "meaning":{
                  "body_style":"2 Door Basic/Economy"
               },
               "confidence":0.75,
               "notes":"For models like Fox, Jetta"
            },
            {
               "id":"vw_body_4door_custom_f",
               "markets":[
                  "US"
               ],
               "position":[
                  4
               ],
               "pattern":{
                  "type":"exact",
                  "value":"F"
               },
               "meaning":{
                  "body_style":"4 Door Custom"
               },
               "confidence":0.75,
               "notes":"For Golf, Quantum"
            },
            {
               "id":"audi_model_5000_100_200_v8_44",
               "markets":[
                  "EU",
                  "ZA",
                  "US"
               ],
               "position":[
                  7,
                  8
               ],
               "pattern":{
                  "type":"exact",
                  "value":"44"
               },
               "meaning":{
                  "model":"5000/100/200/V8",
                  "engine_hints":"V8 variants"
               },
               "confidence":0.80
            },
            {
               "id":"audi_model_s4_100cs_v8_4a",
               "markets":[
                  "EU",
                  "ZA",
                  "US"
               ],
               "position":[
                  7,
                  8
               ],
               "pattern":{
                  "type":"exact",
                  "value":"4A"
               },
               "meaning":{
                  "model":"S4/100CS/V8",
                  "engine_hints":"V8"
               },
               "confidence":0.80
            },
            {
               "id":"audi_model_4000_81",
               "markets":[
                  "EU",
                  "ZA"
               ],
               "position":[
                  7,
                  8
               ],
               "pattern":{
                  "type":"exact",
                  "value":"81"
               },
               "meaning":{
                  "model":"4000"
               },
               "confidence":0.75
            },
            {
               "id":"skoda_body_estate_lhd_fwd_j",
               "markets":[
                  "EU",
                  "ZA"
               ],
               "position":[
                  4
               ],
               "pattern":{
                  "type":"exact",
                  "value":"J"
               },
               "meaning":{
                  "body_style":"Estate",
                  "drive_layout":"LHD, FWD"
               },
               "confidence":0.90,
               "notes":"As in Octavia Combi"
            },
            {
               "id":"skoda_engine_1.5_tsi_110kw_r",
               "markets":[
                  "EU",
                  "ZA"
               ],
               "position":[
                  5
               ],
               "pattern":{
                  "type":"exact",
                  "value":"R"
               },
               "meaning":{
                  "engine_family":"1.5 TSI",
                  "power_kw":110
               },
               "confidence":0.85
            },
            {
               "id":"skoda_airbags_8",
               "markets":[
                  "EU",
                  "ZA"
               ],
               "position":[
                  6
               ],
               "pattern":{
                  "type":"exact",
                  "value":"8"
               },
               "meaning":{
                  "restraint":"8 airbags (2 front, 4 side, 2 head)"
               },
               "confidence":0.90
            },
            {
               "id":"skoda_model_octavia_nx",
               "markets":[
                  "EU",
                  "ZA"
               ],
               "position":[
                  7,
                  8
               ],
               "pattern":{
                  "type":"exact",
                  "value":"NX"
               },
               "meaning":{
                  "model_series":"Octavia"
               },
               "confidence":0.90
            },
            {
               "id":"skoda_ev_power_109kw_a",
               "markets":[
                  "EU",
                  "ZA"
               ],
               "position":[
                  5
               ],
               "pattern":{
                  "type":"exact",
                  "value":"A"
               },
               "meaning":{
                  "engine_type":"Electric",
                  "power_kw":109
               },
               "confidence":0.85,
               "notes":"For Enyaq-like models"
            },
            {
               "id":"skoda_ev_power_132kw_b",
               "markets":[
                  "EU",
                  "ZA"
               ],
               "position":[
                  5
               ],
               "pattern":{
                  "type":"exact",
                  "value":"B"
               },
               "meaning":{
                  "engine_type":"Electric",
                  "power_kw":132
               },
               "confidence":0.85
            },
            {
               "id":"skoda_ev_power_150kw_c",
               "markets":[
                  "EU",
                  "ZA"
               ],
               "position":[
                  5
               ],
               "pattern":{
                  "type":"exact",
                  "value":"C"
               },
               "meaning":{
                  "engine_type":"Electric",
                  "power_kw":150
               },
               "confidence":0.85
            },
            {
               "id":"seat_model_leon_1p",
               "markets":[
                  "EU",
                  "ZA"
               ],
               "position":[
                  7,
                  8
               ],
               "pattern":{
                  "type":"exact",
                  "value":"1P"
               },
               "meaning":{
                  "model":"Leon 2",
                  "platform":"PQ35"
               },
               "confidence":0.80,
               "notes":"Inferred from VAG shared platforms"
            },
            {
               "id":"seat_model_ibiza_6j",
               "markets":[
                  "EU",
                  "ZA"
               ],
               "position":[
                  7,
                  8
               ],
               "pattern":{
                  "type":"exact",
                  "value":"6J"
               },
               "meaning":{
                  "model":"Ibiza 4",
                  "platform":"PQ25"
               },
               "confidence":0.80
            }
         ]
      },
      "AAV":{
         "name":"Volkswagen South Africa (Kariega/Uitenhage)",
         "markets":[
            "ZA"
         ],
         "vds_rules":[
            {
               "rule_id":"vw_polo_vivo_local",
               "description":"VW Polo Vivo - local assembly",
               "markets":[
                  "ZA"
               ],
               "position":[
                  4,
                  5,
                  6,
                  7,
                  8
               ],
               "pattern":{
                  "type":"starts_with",
                  "value":"ZZZ6R"
               },
               "meaning":{
                  "model":"Polo Vivo",
                  "platform":"6R/9N variants",
                  "plant":"Kariega",
                  "assembly":"South Africa"
               },
               "confidence":0.93,
               "notes":"Common for ZA market; plant code often U"
            }
         ]
      },
      "Mercedes-Benz":{
         "markets":[
            "EU",
            "ZA",
            "US"
         ],
         "vds_strategies":{
            "US":"medium-strong",
            "EU":"weak-medium",
            "ZA":"weak-medium"
         },
         "vds_rules":[
            {
               "id":"om654_chassis_w206",
               "markets":[
                  "EU",
                  "ZA"
               ],
               "position":[
                  4,
                  6
               ],
               "pattern":{
                  "type":"prefix",
                  "value":"206"
               },
               "meaning":{
                  "likely_engine_family":"OM654",
                  "displacement_cc":1950
               },
               "confidence":0.85
            },
            {
               "id":"om656_chassis_w213",
               "markets":[
                  "EU",
                  "ZA",
                  "US"
               ],
               "position":[
                  4,
                  6
               ],
               "pattern":{
                  "type":"prefix",
                  "value":"213"
               },
               "meaning":{
                  "likely_engine_family":"OM656",
                  "displacement_cc":2925
               },
               "confidence":0.88
            }
         ]
      },
      "ADM":{
         "name":"Mercedes-Benz South Africa (East London)",
         "markets":[
            "ZA"
         ],
         "vds_rules":[
            {
               "rule_id":"mb_c_class_eastlondon",
               "description":"Mercedes-Benz C-Class - East London assembly",
               "markets":[
                  "ZA"
               ],
               "position":[
                  4,
                  5,
                  6,
                  7,
                  8
               ],
               "pattern":{
                  "type":"starts_with",
                  "value":"205"
               },
               "meaning":{
                  "model":"C-Class (W205/W206)",
                  "plant":"East London",
                  "assembly":"South Africa"
               },
               "confidence":0.95,
               "notes":"Plant code often E"
            }
         ]
      },
      "Toyota":{
         "markets":[
            "US",
            "CA",
            "MX",
            "EU",
            "ZA"
         ],
         "vds_strategies":{
            "US":"strong-medium",
            "EU":"weak-medium",
            "ZA":"weak-medium"
         },
         "vds_rules":[
            {
               "id":"engine_2gr_position5_k",
               "markets":[
                  "US",
                  "CA",
                  "MX"
               ],
               "position":[
                  5
               ],
               "pattern":{
                  "type":"exact",
                  "value":"K"
               },
               "meaning":{
                  "engine_family":"2GR",
                  "displacement_cc":3456
               },
               "confidence":0.88
            }
         ]
      },
      "AHT":{
         "name":"Toyota South Africa (Prospecton)",
         "markets":[
            "ZA"
         ],
         "vds_rules":[
            {
               "rule_id":"toyota_hilux_prospecton",
               "description":"Toyota Hilux - Prospecton assembly",
               "markets":[
                  "ZA"
               ],
               "position":[
                  4,
                  5,
                  6,
                  7,
                  8
               ],
               "pattern":{
                  "type":"regex",
                  "value":"^FR[0-9][A-Z]G"
               },
               "meaning":{
                  "model":"Hilux",
                  "plant":"Prospecton",
                  "engine":"2GD-FTV / 1GD-FTV diesel variants",
                  "assembly":"South Africa"
               },
               "confidence":0.94,
               "notes":"Unique diesel configs common in ZA builds"
            }
         ]
      },
      "AFA":{
         "name":"Ford South Africa (Silverton)",
         "markets":[
            "ZA"
         ],
         "vds_rules":[
            {
               "rule_id":"ford_ranger_silverton",
               "description":"Ford Ranger - Silverton assembly",
               "markets":[
                  "ZA"
               ],
               "position":[
                  4,
                  5,
                  6,
                  7,
                  8
               ],
               "pattern":{
                  "type":"starts_with",
                  "value":"XXMJ"
               },
               "meaning":{
                  "model":"Ranger (T6/T9)",
                  "plant":"Silverton",
                  "engine":"2.0L bi-turbo / 3.2L Duratorq variants",
                  "assembly":"South Africa"
               },
               "confidence":0.92,
               "notes":"Local spec often different from Thai builds"
            }
         ]
      }
   },
   "notes":[
      "ZA-specific profiles (AAU, AAV, ADM, AHT, AFA) are kept separate to emphasize local assembly differences",
      "Global profiles contain market-aware rules where available",
      "Engine displacement values should always be treated as high-confidence only when multiple sources agree",
      "Expanded VAG rules with VW model codes (e.g., 1K for Golf), engine hierarchies (e.g., F for TD/TDI), Skoda specifics (e.g., R for 1.5 TSI), and inferred SEAT patterns. Confidences adjusted for weak EU/ZA strategies. No major ZA VDS differences found beyond plant codes."
   ]
}