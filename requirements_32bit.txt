# DiagAutoClinicOS - Core Dependencies (32-bit Python 3.10 compatible)
# Updated: 2025-12-18
# Complete automotive diagnostic suite requirements - adjusted for 32-bit Windows limitations

# ============================================================================
# CORE GUI FRAMEWORK
# ============================================================================

PyQt5==5.15.10
# PyQt5-sip==12.13.0  # Let PyQt5 manage its own sip version

# ============================================================================
# HARDWARE COMMUNICATION
# ============================================================================

pyserial>=3.5,<4.0.0
python-can>=4.2.2,<5.0.0
pyusb>=1.2.1,<2.0.0
bleak>=0.21.1

# ============================================================================
# AUTOMOTIVE PROTOCOLS
# ============================================================================

obd>=0.7.1

# ============================================================================
# CRYPTOGRAPHY & SECURITY
# ============================================================================

cryptography>=41.0.8
pycryptodome>=3.19.0
rsa>=4.9

# ============================================================================
# DATABASE CONNECTIVITY
# ============================================================================

# SQLite is used (built-in to Python, no additional dependencies required)

# ============================================================================
# DATA PROCESSING & ANALYSIS
# ============================================================================

# NOTE: Recent versions lack 32-bit wheels and fail to build.
# Use latest compatible versions with wheels.
# For newer features, consider switching to 64-bit Python long-term.

numpy==1.23.5          # Last with good 32-bit support; has cp310-win32 wheel
pandas==1.5.3          # Last series with win32 wheels (cp310-win32 available)
# scipy==1.10.1          # Skipped to avoid compilation errors on 32-bit without MSVC
matplotlib==3.7.5      # Has cp310-win32 wheel
pyqtgraph>=0.13.3
seaborn>=0.13.0        # Works with downgraded pandas/numpy

# ============================================================================
# FILE FORMATS & DATA
# ============================================================================

intelhex>=2.3.0
bitstring>=4.1.2
construct>=2.10.68
openpyxl>=3.1.2
python-docx>=1.1.0

# ============================================================================
# SYSTEM & UTILITIES
# ============================================================================

psutil>=5.9.6
requests>=2.31.0,<3.0.0
python-dateutil>=2.8.2,<3.0.0
pytz>=2023.3
tzlocal>=5.2

# ============================================================================
# QR CODE GENERATION
# ============================================================================

qrcode>=7.4.2
Pillow>=10.1.0

# ============================================================================
# LOGGING & MONITORING
# ============================================================================

loguru>=0.7.2
sentry-sdk>=1.35.0

# ============================================================================
# NETWORKING
# ============================================================================

zeroconf>=0.131.0
websockets>=12.0

# ============================================================================
# PACKAGING & DISTRIBUTION
# ============================================================================

pyinstaller>=6.10.0
setuptools>=68.2.2
wheel>=0.41.3

# ============================================================================
# OPTIONAL DEPENDENCIES (Uncomment if needed)
# ============================================================================

# Computer Vision (for camera-based diagnostics)
# opencv-python>=4.8.1.78   # Use Gohlke wheel if needed (has win32)
# pyzbar>=0.1.9

# Bluetooth Support (may require manual setup on Windows)
# pybluez>=0.23   # Often needs manual compile on Windows

# Advanced automotive protocols (install manually if needed):
# can-isotp: pip install git+https://github.com/carenity/can-isotp.git
# udsoncan: pip install git+https://github.com/pylessard/python-udsoncan.git
# python-vxi11: pip install git+https://github.com/python-ivi/python-vxi11.git

# RFID & Smart Card (install manually if needed):
# pyscard: pip install pyscard (may require C++ build tools)

# ELF file analysis (install manually if needed):
# pyelftools: pip install pyelftools

# ============================================================================
# INSTALLATION INSTRUCTIONS FOR 32-BIT WINDOWS
# ============================================================================
#
# 1. Update pip first:
#    py -3.10-32 -m pip install --upgrade pip wheel setuptools
#
# 2. Install most packages:
#    py -3.10-32 -m pip install -r requirements_32bit.txt
#
# 3. For numpy, pandas, scipy, matplotlib (if pip fails due to no wheel):
#    - Download cp310-win32 wheels from https://www.lfd.uci.edu/~gohlke/pythonlibs/
#      (e.g., numpy‑1.23.5‑cp310‑cp310‑win32.whl)
#    - Install: py -3.10-32 -m pip install path\to\downloaded.whl
#
# 4. Replace PyQt6 imports with PyQt5 in code (search/replace PyQt6 → PyQt5)
#
# Note: 32-bit Python is legacy; many packages drop support. For full modern features,
# switch to 64-bit Python + official Godiag driver (works fine on 64-bit).
# ============================================================================